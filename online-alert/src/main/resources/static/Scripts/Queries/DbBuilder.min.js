var DbBuildResult=function(J,B,G,K,L,A,I,H,D){var C=this;var E=[];for(var F in L){E.push(F)}C.Table=J;C.Query=JSON.stringify(B?B.getData():{});C.Sort=K?K.getData():[];C.Fields=G?G.getData():[];C.PageIndex=A;C.PageSize=I;C.IsDistinct=H;C.GroupBy=E;for(var F in D){C[F]=D[F]}};var DbBuilder=function(){var B=this;var A=function(F){var K=F;var D=null;var G=null;var L=null;var M={};var J=this;var C=0;var I=0;var H=false;var E={};J.distinct=function(N){if(typeof(N)==="undefined"){H=true}else{if(typeof(N)==="number"){H=N>0}else{H=N?true:false}}return J};J.where=function(N){if(N!=null&&!(N instanceof iQuery)){throw"query参数必须为iQuery对象"}if(N==null){D=Query.Null()}else{D=N}return J};J.sortBy=function(N){if(N!=null&&!(N instanceof Sort)){throw"sort参数必须为Sort对象"}L=N;return J};J.groupBy=function(){for(var N=0;N<arguments.length;++N){if(arguments[N] instanceof Array){var O=arguments[N];for(var P=0;P<O.length;++P){if(typeof(O[P])==="string"&&O[P].length>0){M[O[P]]=true}}}else{if(typeof(arguments[N])==="string"&&arguments[N].length>0){M[arguments[N]]=true}}}return J};J.select=function(N){if(N!=null&&!(N instanceof Fields)){throw"fields参数必须Fields对象"}G=N;return J};J.pageIndex=function(N){if(typeof(N)==="number"&&!isNaN(N)){C=N}else{throw"参数idx不是数字"}return J};J.pageSize=function(N){if(typeof(N)==="number"&&!isNaN(N)){I=N}else{throw"参数size不是数字"}return J};J.setParam=function(N,O){if(typeof(N)!="string"){throw"参数key必须为字符串"}switch(N.toLowerCase()){case"table":case"query":case"sort":case"fields":case"pageindex":case"pagesize":throw"key不可为Table、Query、Sort、Fields、PageIndex、PageSize";default:break}E[N]=O;return J};J.removeParam=function(N){delete E[N];return J};J.build=function(){return new DbBuildResult(K,D,G,L,M,C,I,H,E)}};B.from=function(C){if(typeof(C)!="string"||C.length==0){throw"错误的表名格式"}return new A(C)}};DbBuilder.from=function(A){return new DbBuilder().from(A)};