var formLoading=function(e){var g=this;var f={timeout:120,onShow:function(){},onHide:function(){},onTimeout:function(){},zIndex:9998,toolType:"loading",total:100};var d={maskBody:null,mask:null,bar:null,barIn:null,offsetParent:null,toolText:null,target:$("body")};var b={body:'<div style="position:fixed;top:0px;left:0px;right:0px;bottom:0px;"><div class="modal-backdrop fade" style="z-index:inherit;"></div><div class="position-relative" style="width:50%; margin:0px auto;padding-top:8%;position:relative; z-index:inherit;"><div class="position-relative" style="overflow:hidden;z-index:inherit;color:#fff;text-align:center;"></div></div></div>',progress:'<div class="progress progress-striped active"><div class="progress-bar bg-color-pink" role="progressbar" style="width: 0%"></div></div>',};var a={isShow:false,isProgress:false};var c={render:function(h){d.mask=$(b.body);d.target.append(d.mask);d.mask.css("z-index",f.zIndex);d.bar=$(b.progress);d.bar.css("z-index",f.zIndex);d.mask.children(".position-relative").prepend(d.bar);d.barIn=d.bar.children();if(!a.isProgress){d.barIn.css("width","100%");d.bar.removeAttr("data-percent")}d.toolText=d.mask.children(".position-relative").children(".position-relative");d.maskBody=d.mask.children(".modal-backdrop");setTimeout(function(){d.maskBody.addClass("in")},0)},calcPercent:function(h,i){if(typeof(i)!="number"){i=f.total}else{f.total=i}if(h<i){return Math.round((h/i)*1000)/10}return 100}};g.show=function(h){if(a.isShow){return}if(f.onShow()===false){return}c.render();if(!h){h="请耐心等待..."}d.toolText.text(h);a.isShow=true};g.hide=function(){if(!a.isShow){return}if(f.onHide()===false){return}d.maskBody.fadeTo(200,0,function(){d.mask.remove();d.maskBody=null;d.mask=null;d.bar=null;d.barIn=null;d.offsetParent=null;d.toolText=null});a.isShow=false};g.setProgress=function(h,j){if(!a.isShow||!a.isProgress){return}if(typeof(h)!="number"||typeof(j)!="number"||j<=0||h<=0){return}var i=c.calcPercent(h,j).toString()+"%";d.bar.attr("data-percent",i);d.barIn.css("width",i)};g.setToolText=function(h){d.toolText.text(typeof(h)!="undefined"&&h!=null?h:"请耐心等待...")};if(e){if(e.toolType&&e.toolType==="progress"){if(e.toolType==="progress"){a.isProgress=true}}if(e.zIndex&&typeof(e.zIndex)==="number"&&e.zIndex>=0&&e.zIndex<65536){f.zIndex=e.zIndex}if(e.total&&typeof(e.total)==="number"&&e.total>0){f.total=e.total}if($.isFunction(e.onShow)){f.onShow=e.onShow}if($.isFunction(e.onHide)){f.onHide=e.onHide}if($.isFunction(e.onTimeout)){f.onTimeout=e.onTimeout}}};